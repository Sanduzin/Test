<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>Modelo 3D</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <style>
      body {
        margin: 0;
        background-color: #000;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
      }
      model-viewer {
        width: 100%;
        height: 90vh;
      }
      .controls {
        margin-top: 10px;
      }
      button {
        margin: 0 5px;
        padding: 10px;
        font-size: 16px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <model-viewer
      id="model"
      src="12r.glb"
      alt="Modelo 3D"
      auto-rotate
      camera-controls
      ar
      exposure="1"
      shadow-intensity="1"
      environment-image="neutral"
    ></model-viewer>

    <div class="controls">
      <button onclick="changeColor('red')">Vermelho</button>
      <button onclick="changeColor('green')">Verde</button>
      <button onclick="changeColor('blue')">Azul</button>
    </div>

    <script type="module">
      const modelViewer = document.getElementById('model');

      modelViewer.addEventListener('load', () => {
        const mesh = modelViewer.model?.scene?.getObjectByName('Rectangle002');
        if (!mesh) {
          console.error('Objeto Rectangle002 nÃ£o encontrado!');
          return;
        }

        window.changeColor = (color) => {
          if (mesh.material) {
            mesh.material.pbrMetallicRoughness.setBaseColorFactor(getColorFactor(color));
          }
        };
      });

      function getColorFactor(color) {
        switch (color) {
          case 'red': return [1, 0, 0, 1];
          case 'green': return [0, 1, 0, 1];
          case 'blue': return [0, 0, 1, 1];
          default: return [1, 1, 1, 1];
        }
      }
    </script>
  </body>
</html>
